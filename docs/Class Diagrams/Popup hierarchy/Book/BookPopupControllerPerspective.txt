@startuml
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''INIZIO INTERFACCE

interface RegisterAdder<T>{
add(in toAdd  : T) : boolean
}

interface RegisterModifier<T>{
modify(in old : T, in new : T) : boolean
}

interface RegisterValidator<T>{
isValid(in toVerify : T) : boolean
}

class BookInsertPopupController{
+initialize() : void
-bookRegisterAdder : RegisterAdder<Book>
-bookRegisterValidator : RegisterValidator<Book>

+setBookRegisterAdder(in bookRegisterAdder : RegisterAdder<Book>) : void
+setBookRegisterValidator(in bookRegisterValidator : RegisterValidator<Book>) : void
}

class BookModifyPopupController{
+initialize() : void
+setBookToModify(in bookToModify : Book) : void
-bookRegisterModifier : RegisterModifier<Book>
-bookRegisterValidator : RegisterValidator<Book>
-bookToModify : Book

+setBookRegisterModifier(in bookRegisterModifier : RegisterModifier<Book>) : void
+setBookRegisterValidator(in bookRegisterValidator : RegisterValidator<Book>) : void
}

abstract class BookPopupController{
#titleTF : TextField
#authorsTF : TextField
#publishmentYearTF : TextField
#availableCopiesTF : TextField
#bookIdTF : TextField
#confirmBtn : Button
#cancelBtn : Button
#bookToEdit : Book = null

#confirmBtnAction(in event : ActionEvent) : void
#cancelBtnAction(in event : ActionEvent) : void

}

BookInsertPopupController --|> BookPopupController
BookModifyPopupController --|> BookPopupController

BookInsertPopupController -r-> RegisterValidator
BookInsertPopupController --> RegisterAdder

BookModifyPopupController -l-> RegisterValidator
BookModifyPopupController --> RegisterModifier
@enduml