@startuml
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''INIZIO INTERFACCE

interface RegisterAdder<T>{
add(in toAdd  : T) : boolean
}

interface RegisterModifier<T>{
modify(in old : T, in new : T) : boolean
}

interface RegisterValidator<T>{
isValid(in toVerify : T) : boolean
}

interface RegisterObtainer<T>{
getRegister() : ObservableList<T>
}


'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''INIZIO INSERT POPUP




class LoanInsertPopupController{
+initialize() : void
-loanRegisterAdder : RegisterAdder<Loan>
+setBookRegisterObtainer(in bookRegisterObtainer : RegisterObtainer<Book>) : void
+setStudentRegisterObtainer(in studentRegisterObtainer : RegisterObtainer<Student>) : void
+setLoanRegisterAdder(in loanRegisterAdder : RegisterAdder<Loan>) : void
+setLoanRegisterValidator(in loanRegisterValidator : RegisterValidator<Loan>) : void
-bookRegisterObtainer : RegisterObtainer<Book>
-studentRegisterObtainer : RegisterObtainer<Student>
-loanRegisterValidator : RegisterValidator<Loan>


}




'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''INIZIO MODIFY POPUP





class LoanModifyPopupController{
+initialize() : void
+setLoanToModify(in loanToModify : Loan) : void
-loanRegisterModifier : RegisterModifier<Loan>
-loanRegisterValidator : RegisterValidator<Loan>
-loanToModify: Loan
+setLoanRegisterModifier(in loanRegisterModifier : RegisterModifier<Loan>) : void
+setLoanRegisterValidator(in loanRegisterValidator : RegisterValidator<Loan>) : void
}




abstract class LoanPopupController{
#studentCB : ComboBox<Student>
#bookCB : ComboBox<Book>
#loanEndCB : TextField
#confirmBtn : Button
#cancelBtn : Button

#confirmBtnAction(in event : ActionEvent) : void
#cancelBtnAction(in event : ActionEvent) : void
}


'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''INIZIO COLLEGAMENTI
LoanInsertPopupController -d-|> LoanPopupController
LoanModifyPopupController -d-|> LoanPopupController

LoanInsertPopupController -r-> RegisterValidator
LoanInsertPopupController -u-> RegisterAdder
LoanInsertPopupController -d-> RegisterObtainer


LoanModifyPopupController -l-> RegisterValidator
LoanModifyPopupController -u-> RegisterModifier
@enduml