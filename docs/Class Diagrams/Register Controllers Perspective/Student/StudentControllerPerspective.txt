@startuml
skinparam nodesep 50

class StudentRegisterController{
+initialize() : void
-studentTable : TableView<Student>
-nameClm : TableColumn<Student, String>
-surnameClm : TableColumn<Student, String>
-studentIdClm : TableColumn<Student, String>
-emailClm : TableColumn<Student, String>
-studentRegister : Register<Student>
-sideBarController : SideBarController
-studentInsertPopupController : StudentInsertPopupController
-studentModifyPopupController : StudentModifyPopupController

-openInsertPopup() : void
-openModifyPopup() : void
-removeFromRegister() : void
+setStudentRegister(in studentRegister : Register<Student>) : void
}



class SideBarController{
-addBtn : Button
-searchBarTF : TextField
-removeBtn : Button
-modifyBtn : Button

+getAddBtn() : Button
+getSearchBarTF() : TextField
+getRemoveBtn() : Button
+getModifyBtn() : Button
}

class StudentInsertPopupController{
+initialize() : void
-studentRegisterAdder : RegisterAdder<Student>
-studentRegisterValidator : RegisterValidator<Student>

+setStudentRegisterAdder(in studentRegisterAdder : RegisterAdder<Student>) : void
+setStudentRegisterValidator(in studentRegisterValidator : RegisterValidator<Student>) : void
}

class StudentModifyPopupController{
+initialize() : void
+setStudentToModify(in studentToModify : Student) : void
-studentRegisterModifier : RegisterModifier<Student>
-studentRegisterValidator : RegisterValidator<Student>
-studentToModify: Student

+setStudentRegisterModifier(in studentRegisterModifier : RegisterModifier<Student>) : void
+setStudentRegisterValidator(in studentRegisterValidator : RegisterValidator<Student>) : void
}

interface RegisterAdder<T>{
add(in toAdd  : T) : boolean
}

interface RegisterModifier<T>{
modify(in old : T, in new : T) : boolean
}

interface RegisterValidator<T>{
isValid(in toVerify : T) : boolean
}


abstract class StudentPopupController{
#nameTF : TextField
#surnameTF : TextField
#studentIdTF : TextField
#emailTF : TextField
#confirmBtn : Button
#cancelBtn : Button

#confirmBtnAction(in event : ActionEvent) : void
#cancelBtnAction(in event : ActionEvent) : void
}



StudentInsertPopupController ---|> StudentPopupController
StudentModifyPopupController ---|> StudentPopupController


StudentInsertPopupController -d-> RegisterValidator
StudentInsertPopupController --> RegisterAdder

StudentModifyPopupController -d-> RegisterValidator
StudentModifyPopupController --> RegisterModifier



StudentRegisterController "1" -r-> "1" SideBarController
StudentRegisterController "1" -d-> "1" StudentInsertPopupController
StudentRegisterController "1" -d-> "1" StudentModifyPopupController

''' LINEA NASCOSTA PER MIGLIORARE LA VISUALIZZAZIONE
RegisterAdder -[hidden]right- RegisterValidator
'''


@enduml